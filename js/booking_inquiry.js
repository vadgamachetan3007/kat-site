$(function(){$("#grab_email").animate({left:"0",position:"relative",opacity:1},2e3),$("#grab_email").css("position","relative")}),$(document).ready(function(){function e(e,t){$("#"+t).animate({left:"-999px",position:"absolute",opacity:0},2e3),$("#"+e).animate({left:"0",position:"relative",opacity:1},2e3)}function t(e){$("#multiple-days-container").append(function(e){var t=1==$("#all_shifts_the_same:checked").length?"hidden":"";return'<div id="day_'+e+'" class="day-container" style="border: 2px solid #B41A1C;border-radius: 1px;padding: 15px;">\t\t\t\t<label for="">Day '+e+'</label><button type="button" data-booking_id="'+e+'" class="duplicate_shift_button pull-right text-uppercase btn btn-default">Duplicate</button><br/>\t\t\t\t<label for="booking_date_'+e+'">Booking Date</label>\t\t\t\t<input type="text" id="booking_date_'+e+'" autocomplete="off" name="[days]['+e+']booking_date" value="" class="sm-form-control tleft multidate" placeholder="MM/DD/YYYY">\t\t\t\t\t\t<label class="'+t+'" for="start_time_'+e+'">Start Time</label>\t\t\t\t<input type="text" data-booking_id="'+e+'" autocomplete="off" id="start_time_'+e+'" name="[days]['+e+']start_time" value="" class="'+t+' the_same_shift timepicker sm-form-control tleft" placeholder="Start Time">\t\t\t\t\t\t<label class="'+t+'" for="arrival_time_'+e+'">Arrival Time</label>\t\t\t\t<input type="text" data-booking_id="'+e+'" autocomplete="off" id="arrival_time_'+e+'" name="[days]['+e+']arrival_time" value="" class="'+t+' the_same_shift timepicker sm-form-control tleft" placeholder="Arrival Time">\t\t\t\t\t\t<label class="'+t+'" for="end_time_'+e+'">End Time</label>\t\t\t\t<input type="text" data-booking_id="'+e+'" autocomplete="off" id="end_time_'+e+'" name="[days]['+e+']end_time" value="" class="'+t+' the_same_shift timepicker sm-form-control tleft" placeholder="End Time">\t\t\t\t\t\t</div>'}(e)),$(".timepicker").timepicker(),$(".multidate").datepicker({format:"mm/dd/yyyy"})}$(".complete_inquiry").on("click",function(){event.preventDefault();var e=this;$("#about_us").val().trim().length>0?($(e).attr("disabled",!0),$("#recaptcha").val($("#g-recaptcha-response-1").val()),$("#review-about_us").val($("#about_us").val()),$("#review-amount_of_days").val($("#booking_days_amount").val()),$.ajax({url:"/booking_inquiry",method:"POST",data:$("#booking_inquiry_form").serialize(),success:function(t){"error"==t.status?(grecaptcha.reset(widgetId2),$("#complete").animate({left:"-999px",position:"absolute",opacity:0},2e3),$("#select_service").animate({left:"0",position:"relative",opacity:1},2e3),$("#select_service").css("position","relative"),toastr.error(t.message),$(e).attr("disabled",!1)):"success"==t.status&&(window.location.href="/booking_inquiry_success")}})):toastr.error("Please specify how did you hear about us.")}),$("#collect_email_submit_button").on("click",function(e){e.preventDefault(),$("#grab_email").css({opacity:1}).animate({left:"-999px",opacity:0},2e3),$("#grab_email").css("position","absolute"),$("#client_email").val(""),$("#client_email_form").val(""),$("#select_service").animate({left:"0",position:"relative",opacity:1},2e3),$("#select_service").css("position","relative")}),$(".timepicker").timepicker(),$(".select-type-button").on("click",function(){var e=$(this).data("booking_type");$("#review-booking_type").val(e),$("#select_service").animate({left:"-999px",position:"absolute",opacity:0},2e3),$("#select_service").css("position","absolute"),$("#budget").animate({left:"0",position:"relative",opacity:1},2e3),$("#budget").css("position","relative")}),$("#client_rate_radio_2").on("click",function(){$(".budgeted_rate_amount").hasClass("hidden")||($(".budgeted_rate_amount").addClass("hidden"),$("#client_rate").val("Without a budget"))}),$("#client_rate_radio_1").on("click",function(){$(".budgeted_rate_amount").removeClass("hidden"),$("#client_rate").val("Under 1,000")}),$(".booking_inquiry_next_button").on("click",function(){var t=$(this).data("next_process"),a=$(this).data("this_process");!function(e){switch(e){case"budget":return void $("#review-client_rate").val($("#client_rate").val());case"gender":return $("#review-talent_gender").val($("#talent_gender").val()),void $("#review-talent_number").val($("#talents_number").val());case"provision":return $("#review-hair").val($("#checkbox-1").is(":checked")),$("#review-makeup").val($("#checkbox-2").is(":checked")),$("#review-wardrobe").val($("#checkbox-3").is(":checked")),void $("#review-meal").val($("#checkbox-4").is(":checked"));case"client":$("#form_client_name").val($("#client_name").val()),$("#form_client_phone").val($("#client_phone").val()),$("#form_client_company").val($("#client_company").val())}}(a),function(t,a){"shifts"==t?$("#client_name").val().trim().length>0&&$("#client_email").val().trim().length>0&&$("#client_phone").val().trim().length>0&&$("#client_company").val().trim().length>0?$("#"+a).animate({left:"-999px",position:"absolute",opacity:0},800,function(){$("#shifts").css({position:"relative"}),$("#"+t).animate({left:"0",position:"relative",opacity:1},1200)}):toastr.error("Contact fields should not be blank."):"shifts"==a?($("#shifts").css({position:"absolute"}),e(t,a)):"location"==a&&!$("#pac-inquiry-input").val().trim().length>0?toastr.error("Location should present."):e(t,a)}(t,a)}),function(){var e=new google.maps.Map(document.getElementById("map-container"),{center:{lat:25.7616798,lng:-80.19179020000001},zoom:13,scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!1,draggable:!1}),t=document.getElementById("pac-inquiry-input"),a=new google.maps.places.SearchBox(t);a.bindTo("bounds",e);var i=new google.maps.Marker({map:e,anchorPoint:new google.maps.Point(0,-29)});$("#create_new_booking").on("click",function(){if($("#inquiry_booking_location_address").val()!=$("#pac-inquiry-input").val())return $("#inquiry_booking_location_ensure_location").val("true"),t.value=$(".pac-container").first().find(".pac-item:first").text(),google.maps.event.trigger(t,"focus"),google.maps.event.trigger(t,"keydown",{keyCode:13}),!1}),a.addListener("places_changed",function(){i.setVisible(!1);var t,o=a.getPlaces();null!=o&&null!=o[0]&&o[0].geometry?((o=o[0]).geometry.viewport?e.fitBounds(o.geometry.viewport):(e.setCenter(o.geometry.location),e.setZoom(17)),i.setPosition(o.geometry.location),i.setVisible(!0),$("#review-location_address").val($("#pac-inquiry-input").val()),$("#review-location_latitude").val(o.geometry.location.lat()),$("#review-location_longitude").val(o.geometry.location.lng()),t=o.place_id,new google.maps.places.PlacesService(e).getDetails({placeId:t},function(e,t){if(t===google.maps.places.PlacesServiceStatus.OK)for(var a in e.address_components)for(var i in e.address_components[a].types)"locality"==e.address_components[a].types[i]&&$("#review-location_city_name").val(e.address_components[a].long_name),"administrative_area_level_1"==e.address_components[a].types[i]&&$("#review-location_state").val(e.address_components[a].long_name),"country"==e.address_components[a].types[i]&&$("#review-location_country").val(e.address_components[a].long_name),"postal_code"==e.address_components[a].types[i]&&$("#review-location_zipcode").val(e.address_components[a].long_name)})):window.alert("No details available for input: '"+o.name+"'")})}(),$("#booking_days_amount").on("change",function(){var e=$(this).val();$("#review-amount_of_days").val(e);var a=$(".day-container").length;if(a>e)for(;a>e;)$("#day_"+a).remove(),a--;else for(;e>a;)t(a+1),a++}),$("#all_shifts_the_same").on("click",function(){var e=$(".day-container").length;if(1==$("#all_shifts_the_same:checked").length)for(;e>1;)$("#start_time_"+e).addClass("hidden"),$("#end_time_"+e).addClass("hidden"),$("#arrival_time_"+e).addClass("hidden"),$("label[for=start_time_"+e+"]").addClass("hidden"),$("label[for=end_time_"+e+"]").addClass("hidden"),$("label[for=arrival_time_"+e+"]").addClass("hidden"),e--;else for(;e>1;)$("#start_time_"+e).removeClass("hidden"),$("#end_time_"+e).removeClass("hidden"),$("#arrival_time_"+e).removeClass("hidden"),$("label[for=start_time_"+e+"]").removeClass("hidden"),$("label[for=end_time_"+e+"]").removeClass("hidden"),$("label[for=arrival_time_"+e+"]").removeClass("hidden"),e--}),$("#multiple-days-container").on("change",".the_same_shift",function(){if(1==$("#all_shifts_the_same:checked").length)for(var e=$(this).data("booking_id"),t=$("#start_time_"+e).val(),a=$("#end_time_"+e).val(),i=$("#arrival_time_"+e).val(),o=$("#booking_days_amount").val();o>0;)$("#start_time_"+o).val(t),$("#end_time_"+o).val(a),$("#arrival_time_"+o).val(i),o--}),$("#multiple-days-container").on("click",".duplicate_shift_button",function(){var e=$(this).data("booking_id"),t=$("#booking_date_"+e).val(),a=$("#start_time_"+e).val(),i=$("#end_time_"+e).val(),o=$("#arrival_time_"+e).val(),n=$(".day-container").length+1;$("#booking_days_amount").val(n),$("#booking_days_amount").change(),$("#booking_date_"+n).val(t),$("#start_time_"+n).val(a),$("#end_time_"+n).val(i),$("#arrival_time_"+n).val(o)}),$(".multidate").datepicker({format:"mm/dd/yyyy"})});